{
    "collab_server" : "",
    "contents" : "library(shiny)\n\nshinyUI(fluidPage(\n    titlePanel(\"Interactive Visualization of cytofkit Results\"),\n    \n    fluidRow(\n        column(3,\n               \n               fileInput('cytofkitObj', h4('cytofkit RData:'), multiple = FALSE, \n                         accept = c('text/RData', '.RData')),\n               actionButton(\"goButton\", \"Submit\", icon = icon(\"hand-o-right\")),\n               \n               hr(),\n               h4(\"Plot Annotation:\"),\n               wellPanel(\n                   checkboxInput(\"addLabel\", label = \"Add Cluster Labels\", value = TRUE),\n                   checkboxInput(\"labelRepel\", label = \"Repel Cluster Labels\", value = FALSE),\n                   checkboxInput(\"sampleLabel\", label = \"Label Samples by Shapes\", value = FALSE),\n                   checkboxInput(\"facetPlot\", label = \"Seperate Plot by Samples\", value = FALSE)\n               ),\n               \n               hr(),\n               h4(\"Sample Filter:\"),\n               wellPanel(uiOutput(\"sampleSelect\")),\n              \n               hr(),\n               h4(\"Data Summary:\"),\n               wellPanel(\n                   h5(\"Expression Data:\"),\n                   textOutput(\"summaryText1\"),\n                   h5(\"Cluster Method(s):\"),\n                   textOutput(\"summaryText2\"),\n                   h5(\"Visualization Method(s):\"),\n                   textOutput(\"summaryText3\"),\n                   h5(\"Progression Method(s):\"),\n                   textOutput(\"summaryText4\")\n               ),\n               \n               hr(),\n               actionButton(\"saveButton\", \"Save Results\", icon = icon(\"download\")),\n               \n               hr(),\n               div(style = \"margin-top: 30px; width: 200px; \", HTML(\"Developed by\")),\n               div(style = \"margin-top: 10px; \", \n                   HTML(\"<img style='width: 150px;' src='http://archild.sign.a-star.edu.sg/images/logo.png'>\"))\n        ),\n        column(9,\n               tabsetPanel(type = \"pills\",\n                           tabPanel(\"Scatter Plot\", fluidPage(\n                               hr(),\n                               fluidRow(\n                                   column(2,\n                                          uiOutput(\"S_PlotMethod\")\n                                   ),\n                                   column(2, \n                                          uiOutput(\"S_PlotFunction\")\n                                   ),\n                                   column(2,\n                                          numericInput(\"S_PointSize\", \"Point Size:\", value = 3)\n                                   ),\n                                   column(2, \n                                          numericInput(\"S_LabelSize\", \"Label Size:\", value = 12)\n                                   ),\n                                   column(2,\n                                          selectInput('colorPalette', label = \"Color Palette:\", \n                                                      choices = c(\"bluered\", \"topo\", \"heat\", \"terrain\", \"cm\"), \n                                                      selected = \"bluered\", width = \"100%\")\n                                   ),\n                                   column(2,\n                                          uiOutput(\"S_ifFlowSOM\")\n                                   )\n                               ),\n                               hr(),\n                               conditionalPanel(\"input.s_ifFlowSOM == 'No'\",\n                                                plotOutput(\"S_ScatterPlot\", width = \"80%\")\n                                                ),\n                               conditionalPanel(\"input.s_ifFlowSOM == 'Yes'\",\n                                                h4(\"FlowSOM Clustering Setup:\"),\n                                                hr(),\n                                                wellPanel(\n                                                    numericInput(\"S_FlowSOM_k\", \"Cluster k\", value = 10, width = \"30%\"),\n                                                    uiOutput(\"S_markerSelect\")\n                                                ),\n                                                hr(),\n                                                actionButton(\"S_runFlowSOM\", \"Run FlowSOM\", icon = icon(\"hand-pointer-o\"))\n                               )\n                           )),\n                           \n                           tabPanel(\"Heat Map\", fluidPage(\n                               hr(),\n                               fluidRow(\n                                   column(4, \n                                          uiOutput(\"H_plotCluster\")\n                                   ),\n                                   column(2,\n                                          selectInput('H_plotMethod', strong('Heatmap Type:'), \n                                                      choices = c(\"mean\", \"median\", \"percentage\"), \n                                                      selected = \"mean\", width = \"100%\")\n                                   ),\n                                   column(2,\n                                          selectInput('H_scaleMethod', strong('Scale Data:'), \n                                                      choices = c(\"none\", \"row\", \"column\"), \n                                                      selected = \"none\", width = \"100%\")\n                                   ),\n                                   column(2,\n                                          numericInput(\"H_rowLabelSize\", \"Row Label Size:\", value = 1, step = 0.5)\n                                   ),\n                                   column(2, \n                                          numericInput(\"H_colLabelSize\", \"Col Label Size:\", value = 1, step = 0.5)\n                                   )\n                               ),\n                               \n                               hr(),\n                               plotOutput(\"H_heatmapPlot\", width = \"100%\")\n                               \n                           )),\n                           \n                           tabPanel(\"Subset Progression\", fluidPage(\n                               hr(),\n                               wellPanel(\n                                   uiOutput(\"P_plotType\")\n                               ),\n                               hr(),\n                               conditionalPanel(\"input.p_plotType == 'Subset Relationship'\",\n                                                fluidRow(\n                                                    column(3,\n                                                           uiOutput(\"P_xlab\")\n                                                    ),\n                                                    column(3,\n                                                           uiOutput(\"P_ylab\")\n                                                    ),\n                                                    column(3,\n                                                           numericInput(\"P_PointSize\", \"Point Size:\", value = 3)\n                                                    ),\n                                                    column(3, \n                                                           numericInput(\"P_LabelSize\", \"Label Size:\", value = 12)\n                                                    )\n                                                ),\n                                                plotOutput(\"P_scatterPlot\", width = \"80%\")\n                                                \n                               ),\n                               conditionalPanel(\"input.p_plotType == 'Marker Expression Profile'\",\n                                                fluidRow(\n                                                    column(3,\n                                                           uiOutput(\"P_orderBy\")\n                                                    ),\n                                                    column(2,\n                                                           numericInput(\"P_LabelSize2\", \"Label Size:\", value = 5)\n                                                    ),\n                                                    column(7,\n                                                           uiOutput(\"P_clusterSelect\")\n                                                    )\n                                                ),\n                                                hr(),\n                                                uiOutput(\"P_markerSelect\"),\n                                                hr(),\n                                                fluidRow(\n                                                    column(2,\n                                                           checkboxInput(\"P_reverseOrder\", label = \"Reverse Order\", value = FALSE)\n                                                    ),\n                                                    column(3,\n                                                           checkboxInput(\"P_combineTrends\", label = \"Combine Trend Lines\", value = FALSE)\n                                                    ),\n                                                    column(7)\n                                                ),\n                                                plotOutput(\"P_markerPlot\", width = \"100%\")\n                                                ),\n                               \n                               conditionalPanel(\"input.p_plotType == 'Run Diffusionmap'\",\n                                                h4(\"Diffusionmap Setup:\"),\n                                                \n                                                wellPanel(\n                                                    h5(\"Cluster-based down-sampling to remove subset aboundance heterogeneity\"),\n                                                    \n                                                    fluidRow(\n                                                        column(4,\n                                                               uiOutput(\"P_clusterMethod\")\n                                                        ),\n                                                        column(4,\n                                                               numericInput(\"P_clusterSampleSize\", \"Cluster Sample Size\", value = 500, \n                                                                            min = 10, max = 1000, step = 5, width = \"100%\")\n                                                        ),\n                                                        column(4,\n                                                               selectInput('P_sampleMethod', 'Downsample Method:', choices = c(\"ceil\", \"all\", \"fixed\", \"min\"), \n                                                                           selected = \"ceil\", width = \"100%\")\n                                                        )\n                                                    ),\n                                                    \n                                                    tableOutput('P_clusterTable'),\n                                                    \n                                                    uiOutput(\"P_clusterFilter\"),\n                                                    hr(),\n                                                \n                                                    h5(\"Diffusionmap Parameters\"),\n                                                    fluidRow(\n                                                        column(6,\n                                                               selectInput('P_distMethod', 'Distance calculation Method:', choices = c(\"euclidean\"), \n                                                                           selected = \"euclidean\", width = \"100%\")\n                                                        ),\n                                                        column(6,\n                                                               numericInput(\"P_outDim\", \"Output Dimensionality:\", value = 4, \n                                                                            min = 1, max = 6, step = 1, width = \"100%\")\n                                                        )\n                                                    )\n                                                ),\n                                                hr(),\n                                                actionButton(\"P_runDiffusionmap\", \"Run Diffusionmap\", icon = icon(\"hand-pointer-o\"))\n                        )\n                    )\n                ) \n            )\n        )\n    )\n))",
    "created" : 1468216202772.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3553103012",
    "id" : "625E0198",
    "lastKnownWriteTime" : 1468390066,
    "last_content_update" : 1468390066278,
    "path" : "~/GitProject/cytofkitShinyAPP/ui.R",
    "project_path" : "ui.R",
    "properties" : {
    },
    "relative_order" : 3,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}